

<app-user-card [userDetails]="userDetails$ | async" [readOnly]="false" (evidentStay)="confirmStay()" (uploadClicked)="upload($event)"></app-user-card>


<p-tabView>
  <p-tabPanel header="Moja dejstva">
    <h3>Dejstva</h3>
    <ng-container *ngIf="(userDetails$ | async)?.stays as stays; else textLoading">

      <p-accordion [style]="{ width: '250px' }">
        <div *ngFor="let stay of stays">
          <p-accordionTab header="{{ stay.date }}">
            <h4>Vrijeme</h4>
            <p>{{ stay.startTime }} - {{ stay.endTime }}</p>
            <h4>Cijena</h4>
            <p>{{ stay.price }}</p>
          </p-accordionTab>
        </div>
      </p-accordion>
    </ng-container>
  </p-tabPanel>

  <p-tabPanel header="Moje uplate">
    <h3>Uplate</h3>
    <ng-container *ngIf="(userDetails$ | async)?.payments as payments; else textLoading">
    <p-accordion [style]="{ width: '250px' }">
      <div *ngFor="let payment of (userDetails$ | async)?.payments">
        <p-accordionTab header="{{ payment.date }}">
          <h4>Vrijeme</h4>
          <p>{{ payment.time }}</p>
          <h4>Uplata</h4>
          <p>{{ payment.amount }}</p>
          <h4>Opis</h4>
          <p>{{ payment.description }}</p>
        </p-accordionTab>
      </div>
    </p-accordion>
  </ng-container>
  </p-tabPanel>
</p-tabView>



<ng-template #pictureLoader>
  <p-skeleton shape="square" size="20rem"></p-skeleton>
</ng-template>

<ng-template #textLoading>
  <p-skeleton height="2rem" width="100%"></p-skeleton>
</ng-template>
