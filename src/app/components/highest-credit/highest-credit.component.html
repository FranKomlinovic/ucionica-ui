<div>
  <h1>Stup ponosa</h1>
</div>
<!-- Grid -->
<div *ngIf="highestCredits$ | async as highestCredit" class="grid grid-nogutter">
  <div *ngFor="let credit of highestCredit" class="col">
    <p-card
      header="{{ credit.user }}"
      styleClass="p-card-shadow"
    >
      <ng-template pTemplate="header" style="width: 100%; height: 40%">
        <img alt="Card" onerror="this.src='https://hungarytoday.hu/wp-content/uploads/2021/04/hide-the-pain-harold.jpg';this.onerror='';"
             src="{{ credit.picture }}"/>
      </ng-template>
      <div>
        <p>Iznos:</p>
        {{ credit.amount }}
      </div>

      <ng-template pTemplate="footer">
        <p-button
          (click)="getDetails(credit.userId)"
          icon="pi pi-search"
          label="Detalji"
          styleClass="p-button"
        >
        </p-button>
      </ng-template>
    </p-card>
  </div>
</div>

<p-dialog
  [(visible)]="showDialog"
  [baseZIndex]="10000"
  [modal]="true"
  header="Informacije o dejstveniku"
>
  <div *ngIf="showDialog">
    <app-user-info
      [showButton]="false"
      [userId]="selectedUserId"
    ></app-user-info>
  </div>
</p-dialog>
